var f=class i{constructor(t=0,e=0){this.x=t;this.y=e}clone(){return new i(this.x,this.y)}add(t){return new i(this.x+t.x,this.y+t.y)}sub(t){return new i(this.x-t.x,this.y-t.y)}scale(t,e=t){return new i(this.x*t,this.y*e)}dot(t){return this.x*t.x+this.y*t.y}perp(){return new i(-this.y,this.x)}len(){return Math.hypot(this.x,this.y)}norm(){let t=this.len()||1;return new i(this.x/t,this.y/t)}rotate(t,e=null){let r=Math.cos(t),s=Math.sin(t),n=this.x,o=this.y;e&&(n-=e.x,o-=e.y);let l=n*r-o*s,u=n*s+o*r;return e?new i(l+e.x,u+e.y):new i(l,u)}toArray(){return[this.x,this.y]}static fromArray(t){return new i(t[0],t[1])}static lerp(t,e,r){return new i(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)}};var k=Object.freeze({black:[0,0,0,255],white:[255,255,255,255],red:[255,0,0,255],green:[0,255,0,255],blue:[0,0,255,255],yellow:[255,255,0,255],cyan:[0,255,255,255],magenta:[255,0,255,255],gray:[128,128,128,255],grey:[128,128,128,255],orange:[255,165,0,255],transparent:[0,0,0,0]});function E(i){return i<0?0:i>255?255:i|0}function at(i){return i<0?0:i>1?1:i}function v(i){if(Array.isArray(i)){let[e,r,s,n=255]=i;return[e|0,r|0,s|0,n|0]}if(typeof i!="string")return null;let t=i.trim().toLowerCase();if(t in k)return k[t];if(t[0]==="#"){let e=t.slice(1),r=e.length,s=n=>parseInt(e[n]+(r<6?e[n]:e[n+1]||e[n]),16);switch(r){case 3:return[s(0),s(1),s(2),255];case 4:return[s(0),s(1),s(2),s(3)];case 6:return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16),255];case 8:return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16),parseInt(e.slice(6,8),16)];default:return null}}if(t.startsWith("rgb")){let e=t.match(/\d+\.?\d*/g);if(!e||e.length!==3&&e.length!==4)return null;let r=E(+e[0]),s=E(+e[1]),n=E(+e[2]),o=e[3]==null?255:at(+e[3])*255+.5|0;return[r,s,n,o]}return null}function j(i,t,e,r){return r<<24|e<<16|t<<8|i}function mt(i){return[i&255,i>>>8&255,i>>>16&255,i>>>24&255]}function P(i,t,e,r,s,n,o,l){let u=r/255,c=l/255,a=c+u*(1-c);if(a<=0)return[0,0,0,0];let m=1-c,h=(s*c+i*u*m)/a,b=(n*c+t*u*m)/a,x=(o*c+e*u*m)/a;return[h,b,x,a*255]}function bt(i){if(Array.isArray(i)){let t=i;return[t[0]|0,t[1]|0,t[2]|0,(t[3]??255)|0]}else return v(i)||k.white}function I(i,t,e,r){let s=r,n=Math.round(t.x),o=Math.round(t.y),l=Math.round(e.x),u=Math.round(e.y),c=Math.abs(l-n),a=Math.abs(u-o),m=n<l?1:-1,h=o<u?1:-1,b=c-a,x=i.buffer;for(;x.putPixelBlend(n,o,s),!(n===l&&o===u);){let d=b<<1;d>-a&&(b-=a,n+=m),d<c&&(b+=c,o+=h)}}function N(i,t,e,{type:r="circle",size:s=3}={}){if(r==="circle")S(i,t,s,e);else if(r==="cross")I(i,new f(t.x-s,t.y),new f(t.x+s,t.y),e),I(i,new f(t.x,t.y-s),new f(t.x,t.y+s),e);else if(r==="square"){let n=s|0,o=[new f(t.x-n,t.y-n),new f(t.x+n,t.y-n),new f(t.x+n,t.y+n),new f(t.x-n,t.y+n)];Y(i,o,e,1)}}function Y(i,t,e,r=1){for(let s=0;s<t.length;s++){let n=t[s],o=t[(s+1)%t.length];if(r<=1){I(i,n,o,e);continue}let l=o.sub(n),u=l.len()||1,c=l.scale(1/u),a=new f(-c.y,c.x),m=r/2|0;for(let h=-m;h<=m;h++){let b=a.scale(h);I(i,n.add(b),o.add(b),e)}}}function S(i,t,e,r){let s=e*e,n=Math.max(0,Math.floor(t.x)|0),o=Math.min(i.buffer.width-1,Math.ceil(t.x)|0),l=Math.max(0,Math.floor(t.y)|0),u=Math.min(i.buffer.height-1,Math.ceil(t.y)|0),c=i.buffer.pixels,a=i.buffer.width;for(let m=l;m<=u;m++){let h=m-t.y,b=h*h,x=(m*a+n|0)*4;for(let d=n;d<=o;d++,x+=4){let p=d-t.x;if(p*p+b<=s){let M=c[x],g=c[x+1],y=c[x+2],V=c[x+3],[R,A,B,z]=P(M,g,y,V,r[0],r[1],r[2],r[3]);c[x]=R+.5|0,c[x+1]=A+.5|0,c[x+2]=B+.5|0,c[x+3]=z+.5|0}}}}function L(i,t,e){let r=t?.length|0;if(r<3)return;let s=i.buffer.height|0,n=i.buffer.width|0,o=1/0,l=-1/0,u=[];for(let a=0;a<r;a++){let m=t[a],h=t[(a+1)%r],b=m.x,x=m.y,d=h.x,p=h.y;if(x===p)continue;let M=Math.min(x,p),g=Math.max(x,p),y=x<p?b:d,V=(d-b)/(p-x);u.push({ymin:M,ymax:g,x:y,invSlope:V}),M<o&&(o=M),g>l&&(l=g)}o=Math.max(0,Math.floor(o)|0),l=Math.min(s-1,Math.ceil(l)|0);let c=i.buffer.pixels;for(let a=o;a<=l;a++){let m=[];for(let h of u)a>=h.ymin&&a<h.ymax&&m.push(h.x+(a-h.ymin)*h.invSlope);if(m.length){m.sort((h,b)=>h-b);for(let h=0;h<m.length;h+=2){let b=Math.max(0,Math.floor(m[h])|0),x=Math.min(n-1,Math.ceil(m[h+1])|0),d=(a*n+b|0)*4;for(let p=b;p<=x;p++,d+=4){let M=c[d],g=c[d+1],y=c[d+2],V=c[d+3],[R,A,B,z]=P(M,g,y,V,e[0],e[1],e[2],e[3]);c[d]=R+.5|0,c[d+1]=A+.5|0,c[d+2]=B+.5|0,c[d+3]=z+.5|0}}}}}var C=(i,t,e,r,s=1)=>Y(i,[t,e],r,s);function U(i,t,e,r,s=1,n=32){let o=[];for(let l=0;l<n;l++){let u=l/n*Math.PI*2;o.push(new f(t.x+e*Math.cos(u),t.y+e*Math.sin(u)))}Y(i,o,r,s)}function $(i){if(!isFinite(i)||i<=0)return 0;let t=Math.abs(i);return t>=1?0:Math.min(6,Math.ceil(-Math.log10(t)))}function K(i,t){let e=+i.toFixed(t);return(Math.abs(e)<1e-12?0:e).toFixed(t)}var J=class{constructor(t,e={}){this.vp=t;this.showGrid=e.showGrid!==!1,this.showAxes=e.showAxes!==!1,this.showTicks=e.showTicks!==!1,this.drawBorder=e.drawBorder||!1,this.axisAtZero=e.axisAtZero!==!1,this.gridColor=v(e.gridColor||"#2a2a2a"),this.axisColor=v(e.axisColor||"#888"),this.borderColor=v(e.borderColor||"#555"),this.tickSizePx=e.tickSizePx??6,this.tickThickness=e.tickThickness??1,this.axisThickness=e.axisThickness??2,this.font=e.font||"12px sans-serif",this.textColor=e.textColor||"#fff",this.margin=e.margin??30,this.labelOffset=e.labelOffset??10,this.numTicksX=e.numTicksX??5,this.numTicksY=e.numTicksY??5,this.axisXPos=0,this.axisYPos=0}setAxisPosition(t,e){this.axisXPos=t,this.axisYPos=e}setLabelStyle(t,e,r){this.font=t,this.textColor=e,r!==void 0&&(this.labelOffset=r)}computeTicks(t,e,r){let s=e-t;if(s===0)return[t];let n=s/r,o=Math.pow(10,Math.floor(Math.log10(n))),l=Math.ceil(n/o)*o,u=Math.ceil(t/l)*l,c=[];for(let a=u;a<=e;a+=l)c.push(+a.toFixed(6));return c}draw(t){let e=this.vp.viewport,r=this.vp.worldBounds;if(!e||!r)return;let s=this.computeTicks(r.xMin,r.xMax,this.numTicksX),n=this.computeTicks(r.yMin,r.yMax,this.numTicksY),o=$(Math.abs(s[1]-s[0]||1)),l=$(Math.abs(n[1]-n[0]||1)),u=this.axisAtZero&&r.yMin<=0&&r.yMax>=0?this.axisXPos:r.yMin,c=this.axisAtZero&&r.xMin<=0&&r.xMax>=0?this.axisYPos:r.xMin;if(this.showGrid){for(let a of s){let m=this.vp.worldToCanvas(a,r.yMin),h=this.vp.worldToCanvas(a,r.yMax);C(t,m,h,this.gridColor,1)}for(let a of n){let m=this.vp.worldToCanvas(r.xMin,a),h=this.vp.worldToCanvas(r.xMax,a);C(t,m,h,this.gridColor,1)}}if(this.showAxes){let a=this.vp.worldToCanvas(r.xMin,u),m=this.vp.worldToCanvas(r.xMax,u),h=this.vp.worldToCanvas(c,r.yMin),b=this.vp.worldToCanvas(c,r.yMax);C(t,a,m,this.axisColor,this.axisThickness),C(t,h,b,this.axisColor,this.axisThickness)}if(this.showTicks&&this.tickSizePx>0){let a=this.tickSizePx;for(let m of s){let h=this.vp.worldToCanvas(m,u);C(t,new f(h.x,h.y-a/2),new f(h.x,h.y+a/2),this.axisColor,this.tickThickness),t.drawText(K(m,o),new f(h.x,h.y+this.labelOffset),this.textColor,this.font,"center","top")}for(let m of n){let h=this.vp.worldToCanvas(c,m);C(t,new f(h.x-a/2,h.y),new f(h.x+a/2,h.y),this.axisColor,this.tickThickness),t.drawText(K(m,l),new f(h.x-this.labelOffset,h.y),this.textColor,this.font,"right","middle")}}}};var w=class i{constructor(t=1,e=0,r=0,s=1,n=0,o=0){this.a=t;this.b=e;this.c=r;this.d=s;this.e=n;this.f=o}static identity(){return new i}static translation(t,e){return new i(1,0,0,1,t,e)}static scale(t,e=t){return new i(t,0,0,e,0,0)}static rotation(t){let e=Math.cos(t),r=Math.sin(t);return new i(e,r,-r,e,0,0)}static fromCanvasTransform(t,e,r,s,n,o){return new i(t,e,r,s,n,o)}multiply(t){return new i(this.a*t.a+this.c*t.b,this.b*t.a+this.d*t.b,this.a*t.c+this.c*t.d,this.b*t.c+this.d*t.d,this.a*t.e+this.c*t.f+this.e,this.b*t.e+this.d*t.f+this.f)}transformV2(t){return new f(this.a*t.x+this.c*t.y+this.e,this.b*t.x+this.d*t.y+this.f)}static around(t,e){return i.translation(t.x,t.y).multiply(e).multiply(i.translation(-t.x,-t.y))}};var T=class{constructor(t="white",e=!1,r=null,s=w.identity()){this.color=t;this.fill=e;this.fillColor=r;this.transform=s;this.fillColor||(this.fillColor=t)}parseColorSafe(t){return[...v(t)??[255,255,255,255]]}},Q=class extends T{constructor(e,r={}){super(r.color??"red",r.fill??!1,r.fillColor??"rgba(255,0,0,0.3)");this.data=e;this.baselineY=r.baselineY??0}draw(e,r){if(!this.data?.length)return;let s=r.worldToCanvas(this.data[0].x,this.data[0].y),n=this.parseColorSafe(this.color);for(let c=1;c<this.data.length;c++){let a=r.worldToCanvas(this.data[c].x,this.data[c].y);C(e,s,a,n),s=a}if(!this.fill)return;let o=this.data.map(c=>r.worldToCanvas(c.x,c.y)),l=this.data[this.data.length-1],u=this.data[0];o.push(r.worldToCanvas(l.x,this.baselineY)),o.push(r.worldToCanvas(u.x,this.baselineY)),L(e,o,this.parseColorSafe(this.fillColor))}},_=class extends T{constructor(e=new f(0,0),r=1,s={}){super(s.color??"white",s.fill??!1,s.fillColor??null,s.transform??w.identity());this.center=e;this.radius=r}draw(e,r){let s=this.transform.transformV2(this.center),n=r.worldToCanvas(s.x,s.y),o=r.scale,l=this.radius*(r.preserveAspect?o.x:(o.x+o.y)*.5);this.fill&&S(e,n,l,this.parseColorSafe(this.fillColor)),U(e,n,l,this.parseColorSafe(this.color))}},tt=class extends T{constructor(e,r,s={}){super(s.color??"yellow",!1,null,s.transform??w.identity());this.p1=e;this.p2=r;this.width=Math.max(1,(s.width??2)|0)}draw(e,r){let s=this.transform.transformV2(this.p1),n=this.transform.transformV2(this.p2),o=r.worldToCanvas(s.x,s.y),l=r.worldToCanvas(n.x,n.y);Y(e,[o,l],this.parseColorSafe(this.color),this.width)}},et=class extends T{constructor(e,r={}){super(r.color??"white",!1,null,r.transform??w.identity());this.pos=e;this.type=r.type??"circle",this.size=r.size??3}draw(e,r){let s=this.transform.transformV2(this.pos),n=r.worldToCanvas(s.x,s.y);N(e,n,this.parseColorSafe(this.color),{type:this.type,size:this.size})}},rt=class extends T{constructor(t,e,r,s={}){super(s.color??"yellow",s.fill??!0,s.fillColor??"rgba(255,255,0,0.5)",s.transform??w.identity()),this.points=[t,e,r]}draw(t,e){let s=this.points.map(n=>this.transform.transformV2(n)).map(n=>e.worldToCanvas(n.x,n.y));this.fill&&L(t,s,this.parseColorSafe(this.fillColor));for(let n=0;n<3;n++)C(t,s[n],s[(n+1)%3],this.parseColorSafe(this.color))}},st=class extends T{constructor(e,r,s={}){super(s.color??"white",!1,null,s.transform??w.identity());this.text=e;this.pos=r;this.font=s.font??"14px sans-serif",this.align=s.align??"left",this.baseline=s.baseline??"alphabetic"}draw(e,r){let s=this.transform.transformV2(this.pos),n=r.worldToCanvas(s.x,s.y);e.drawText(this.text,n,this.color,this.font,this.align,this.baseline)}},nt=class extends T{constructor(e,r,s={}){super(s.color??"white",!1,null,s.transform??w.identity());this.text=e;this.pos=r;this.mode=s.mode??"world",this.font=s.font??"14px sans-serif",this.align=s.align??"left",this.baseline=s.baseline??"alphabetic"}draw(e,r){let s=this.mode==="canvas"?this.pos:r.worldToCanvas(this.transform.transformV2(this.pos).x,this.transform.transformV2(this.pos).y);e.drawText(this.text,s,this.color,this.font,this.align,this.baseline)}};var W=class{constructor(t,e,r={x:0,y:0,width:t.size.x,height:t.size.y},s=!1){this.app=t;this.worldBounds=e;this._viewport=r;this.preserveAspect=s;this.xTicks=[];this.yTicks=[]}get viewport(){return typeof this._viewport=="function"?this._viewport(this.app):this._viewport}get scale(){let{xMin:t,xMax:e,yMin:r,yMax:s}=this.worldBounds,n=e-t,o=s-r,l=this.viewport;if(!this.preserveAspect||this.preserveAspect==="none")return new f(l.width/n,l.height/o);let u=l.width/l.height,c=n/o,a=u>c?l.height/o:l.width/n;return new f(a,a)}worldToCanvas(t,e){let r=this.viewport,{xMin:s,xMax:n,yMin:o,yMax:l}=this.worldBounds,u=n-s,c=l-o;if(this.preserveAspect&&this.preserveAspect!=="none"){let a=this.scale.x,m=a*u,h=a*c,b=r.x+(r.width-m)/2,x=r.y+(r.height-h)/2;return new f(b+(t-s)*a,x+(c-(e-o))*a)}else{let a=this.scale;return new f(r.x+(t-s)*a.x,r.y+(l-e)*a.y)}}canvasToWorld(t,e){let r=this.viewport,{xMin:s,xMax:n,yMin:o,yMax:l}=this.worldBounds,u=n-s,c=l-o;if(this.preserveAspect&&this.preserveAspect!=="none"){let a=this.scale.x,m=a*u,h=a*c,b=r.x+(r.width-m)/2,x=r.y+(r.height-h)/2;return new f(s+(t-b)/a,l-(e-x)/a)}else{let a=this.scale;return new f(s+(t-r.x)/a.x,l-(e-r.y)/a.y)}}unitsToPixels(t){return t*this.scale.x}updateWorld(t,e=10){t&&(this.worldBounds=t);let{xMin:r,xMax:s,yMin:n,yMax:o}=this.worldBounds;this.xTicks=this.computeTicks(r,s,e),this.yTicks=this.computeTicks(n,o,e)}computeTicks(t,e,r){let s=e-t;if(s<=0)return[t];let n=this.nicify(s/r),o=Math.ceil(t/n)*n,l=[];for(let u=o;u<=e;u+=n)l.push(+u.toFixed(10));return l}nicify(t){let e=Math.floor(Math.log10(t)),r=t/Math.pow(10,e),s;return r<1.5?s=1:r<3?s=2:r<7?s=5:s=10,s*Math.pow(10,e)}};function lt(i,t=1,e=30){let r=i.getBoundingClientRect(),s=r.width,n=r.height;return s/n>t?s=n*t:n=s/t,{x:e,y:e,width:s-e*2,height:n-e*2,margin:e}}var X=class{constructor(t,e){this.width=0;this.height=0;this.imageData=new ImageData(Math.max(1,t|0),Math.max(1,e|0)),this.pixels=this.imageData.data,this.px32=new Uint32Array(this.pixels.buffer),this.width=this.imageData.width,this.height=this.imageData.height}resize(t,e){this.imageData=new ImageData(Math.max(1,t|0),Math.max(1,e|0)),this.pixels=this.imageData.data,this.px32=new Uint32Array(this.pixels.buffer),this.width=this.imageData.width,this.height=this.imageData.height}clear(t="#131313"){let e=v(t)||k.black,r=j(e[0],e[1],e[2],e[3]);this.px32.fill(r)}index(t,e){return(e*this.width+t|0)*4}putPixel(t,e,r){if(t>>>0>=this.width>>>0||e>>>0>=this.height>>>0)return;let s=this.index(t|0,e|0),n=r;this.pixels[s]=n[0],this.pixels[s+1]=n[1],this.pixels[s+2]=n[2],this.pixels[s+3]=n[3]}putPixelBlend(t,e,r){if(t>>>0>=this.width>>>0||e>>>0>=this.height>>>0)return;let s=this.index(t|0,e|0),n=this.pixels[s],o=this.pixels[s+1],l=this.pixels[s+2],u=this.pixels[s+3],[c,a,m,h]=P(n,o,l,u,r[0],r[1],r[2],r[3]);this.pixels[s]=c+.5|0,this.pixels[s+1]=a+.5|0,this.pixels[s+2]=m+.5|0,this.pixels[s+3]=h+.5|0}blit(t,e,r){let s=t.width|0,n=t.height|0,o=t.data,l=this.width,u=this.height;e|=0,r|=0;let c=Math.max(0,e),a=Math.max(0,r),m=Math.min(l,e+s),h=Math.min(u,r+n);for(let b=a-r;b<h-r;b++){let d=(r+b)*l;for(let p=c-e;p<m-e;p++){let M=e+p,g=(b*s+p)*4,y=(d+M)*4,V=this.pixels[y],R=this.pixels[y+1],A=this.pixels[y+2],B=this.pixels[y+3],z=o[g],it=o[g+1],ot=o[g+2],F=o[g+3],D=F/255,G=1-D;this.pixels[y]=z*D+V*G+.5|0,this.pixels[y+1]=it*D+R*G+.5|0,this.pixels[y+2]=ot*D+A*G+.5|0,this.pixels[y+3]=F*D+B*G+.5|0}}}};var O=class{constructor(t=256){this.capacity=t;this.map=new Map;this.capacity|=0}get(t){let e=this.map.get(t);return e&&(this.map.delete(t),this.map.set(t,e)),e??null}set(t,e){for(this.map.has(t)&&this.map.delete(t),this.map.set(t,e);this.map.size>this.capacity;){let r=this.map.keys().next().value;r!==void 0&&this.map.delete(r)}}clear(){this.map.clear()}};var H=class{constructor(t=document.querySelector("canvas")){this.canvas=t;this.resizeCallbacks=[];this.renderables=[];this.ctx=t.getContext("2d"),this.size=new f(t.width,t.height),this.buffer=new X(this.size.x,this.size.y),this.textCanvas=document.createElement("canvas"),this.textCtx=this.textCanvas.getContext("2d"),this.textCache=new O(512),window.addEventListener("resize",()=>this.onResize())}resizeCanvas(){this.canvas.width=this.size.x,this.canvas.height=this.size.y}onResize(){this.size=new f(window.innerWidth|0,window.innerHeight|0),this.resizeCanvas(),this.buffer.resize(this.size.x,this.size.y),this.renderAll(),this.resizeCallbacks.forEach(t=>t())}onResizeCallback(t){this.resizeCallbacks.push(t)}addRenderable(t){this.renderables.push(t)}clear(t="#131313"){this.buffer.clear(t)}putPixel(t,e){this.buffer.putPixel(t.x|0,t.y|0,e)}putPixelBlend(t,e){this.buffer.putPixelBlend(t.x|0,t.y|0,e)}blitImageData(t,e,r){this.buffer.blit(t,e,r)}render(){this.ctx.putImageData(this.buffer.imageData,0,0)}renderAll(){this.clear(),this.renderables.forEach(t=>t.draw(this)),this.render()}drawText(t,e,r="#fff",s="12px sans-serif",n="left",o="alphabetic"){let l=`${t}|${s}|${r}`,u=this.textCache.get(l);if(!u){let b=this.textCtx;b.font=s;let x=b.measureText(t),d=Math.ceil(x.width+4),p=Math.ceil((x.actualBoundingBoxAscent||10)+(x.actualBoundingBoxDescent||4)+4);(this.textCanvas.width<d||this.textCanvas.height<p)&&(this.textCanvas.width=d,this.textCanvas.height=p),b.clearRect(0,0,d,p),b.font=s,b.fillStyle=r,b.textBaseline="top",b.textAlign="left",b.fillText(t,2,2),u=b.getImageData(0,0,d,p),this.textCache.set(l,u)}let{width:c,height:a}=u,m=0,h=0;switch(n){case"center":m=-c/2;break;case"right":case"end":m=-c;break}switch(o){case"middle":h=-a/2;break;case"bottom":case"ideographic":case"alphabetic":h=-a;break}this.blitImageData(u,e.x+m+.5|0,e.y+h+.5|0)}},Z=class{constructor(t,e={}){this.containerDiv=t;let r=document.createElement("canvas");t.appendChild(r),Object.assign(r.style,{width:"100%",height:"100%",display:"block",background:e.background||"black"}),this.app=new H(r),window.addEventListener("resize",()=>this.resize()),this.resize()}resize(){let t=this.containerDiv.getBoundingClientRect(),e=Math.max(1,t.width|0),r=Math.max(1,t.height|0),s=this.app.canvas;s.width=e,s.height=r,this.app.size=new f(e,r),this.app.buffer.resize(e,r)}clear(){this.app.clear()}render(){this.app.render()}};function ct(i,t,e){return i.rotate(e,t)}function Zt(i,t,e){i.points=i.points.map(r=>ct(r,t,e))}function qt(i,t,e){let r=w.around(t,w.scale(Math.cos(e),1));i.points=i.points.map(s=>r.transformV2(s))}function ht(i,t,e){return w.around(t,w.scale(Math.cos(e),1)).transformV2(i)}var q=class i{static findX(t){let e=[];for(let r=1;r<t.length;r++){let s=t[r-1].y,n=t[r].y;if(s===0)e.push(t[r-1].x);else if(s*n<0){let o=t[r-1].x,l=t[r].x;e.push(o+-s/(n-s)*(l-o))}}return e}static drawX(t,e,r,s="yellow"){let n=v(s)||k.yellow,o=i.findX(r);for(let l of o){let u=e.worldToCanvas(l,0);S(t,new f(u.x+.5|0,u.y+.5|0),5,n)}}};export{H as CanvasRenderer,T as Drawable,_ as DrawableCircle,Q as DrawableFunction,nt as DrawableLabel,tt as DrawableLine,et as DrawablePoint,st as DrawableText,rt as DrawableTriangle,Z as DynamicCanvasRenderer,J as Graph,q as Intercepts,k as NAMED,X as PixelBuffer,O as TextCache,w as Transform2D,f as V2,W as ViewportManager,P as blendRGBA,at as clamp01,E as clamp255,U as drawCircleOutline,C as drawLine,S as fillCircle,L as fillPolygon,lt as getDivViewport,j as packABGR,v as parseColor,ht as projectYRotation,I as rawLine,N as rawPoint,ct as rotatePoint,Zt as rotateTriangleAroundCenter,qt as rotateTriangleVertical,Y as strokeShape,bt as toColor,mt as unpackABGR};
//# sourceMappingURL=canvasLib.js.map
